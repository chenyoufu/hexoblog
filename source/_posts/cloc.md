title: 源代码统计cloc
date: 2015-04-07 10:45:33
tags: linux
categories: 编程
---
![](http://7sbqk1.com1.z0.glb.clouddn.com/source-code_blog.jpg)
最近发现一款非常不错的源代码统计工具cloc，简单好用。
http://sourceforge.net/projects/cloc/
并且提供了linux版本和windows版本。

可以直接指定目录，文件，压缩包软件会自动的进行识别，并且统计各种语言，脚本，配置文件等的文件个数，代码行数，空行数，注释行数。
一个命令运行下来，基本可以对整个软件的规模有一个大致的认识。

比如对nginx的源代码做了一个统计：
```
[youfu@localhost ~]$ cloc nginx-1.7.11.tar.gz
     364 text files.
     361 unique files.
      93 files ignored.

http://cloc.sourceforge.net v 1.62  T=2.00 s (135.5 files/s, 75466.0 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C                              169          35654           3729          99332
C/C++ Header                    88           3333            807           6638
vim script                       3             52             77            722
Perl                             4             70             51            153
SKILL                            3             24              0             99
Bourne Shell                     1             32              3             81
HTML                             2              2              0             44
C++                              1              8              3             18
-------------------------------------------------------------------------------
SUM:                           271          39175           4670         107087
-------------------------------------------------------------------------------
```

可以看的nginx的c语言行数大概在10w行左右，算是一个中型软件了。

另外对lua的源代码也做了一个统计：

```
[youfu@localhost ~]$ cloc lua-5.3.0.tar.gz
      71 text files.
      70 unique files.
       3 files ignored.

http://cloc.sourceforge.net v 1.62  T=1.00 s (68.0 files/s, 34964.0 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C                               35           2665           1964          14134
HTML                             3           3590             11           8178
C/C++ Header                    26           1060           1005           1914
make                             2             60             36            215
CSS                              2             19              0            113
-------------------------------------------------------------------------------
SUM:                            68           7394           3016          24554
-------------------------------------------------------------------------------

```
纯的c代码行数大概在1.5w行，算是一个小而美的软件了，据说lua的代码非常值得学习。

上述code的那一列显示的数字就是纯code的行数，已经去掉了空行和注释。

sourceforge有时候会被墙，下载了下来传到百度网盘上了：
windows: http://pan.baidu.com/s/1c0AjSrQ
linux：http://pan.baidu.com/s/1pJLYK0z
