title: 自己做一个吉他谱网站
date: 2016-09-17 22:15:28
tags: 吉他谱
categories: 吉他
---

近期打算上线一个简单的网站，发布热门歌曲的吉他弹唱六线谱，高清图片谱，格式就跟正规出版的吉他书中一样。有和弦指法图，六线谱，简谱，歌词，还有节拍，调性等相关音乐元素。

想自己做一个吉他谱网站的原因很多，而且由来已久，首先是自己喜欢弹吉他，由于水平限制，目前无法自己完成扒带，需要上网找一些吉他弹唱谱子，谱子来源主要是那些老牌网站，以虫虫吉他，吉他谱等为首的，这类网站广告比谱子还多。而且布局杂乱，各种样式的谱子鱼龙混杂，目前来看除非实在没办法，坚决抵制这类的网站。还有一类是以论坛形式存在，比如彼岸吉他，玩易吉他，大伟吉他教室，这类网站比那些老牌网站强多了，吉他谱也是正规格式的高清图片谱，而且是自己制作的，还带有高清的弹唱教学视频，非常适合有一定水平的初学者，不过这类网站资源比较少，很难做到指哪打哪。

两年前调研过自动输出和弦的技术，想法是输入mp3，输出和弦走向，一个周的调研搜索了各种中英文资料发现根本做不到，这个已经涉及到人工智能的领域了，力所不能及，MIDI或者单声道简单的乐曲还好，MP3多乐器音轨声道混到一起后逆向出吉他的和弦太难了。

最近又萌生了做吉他谱网站的想法，主要是发现这个领域还是有很大的市场空间，还是人工来扒带，然后制作成高清的吉他图片谱发布。

最适合国情的专业吉他谱绘制软件应该是Muse 2.7，目前大部分出版的吉他谱的书籍应该就是Muse绘制的，可读性友好性非常好，可惜很早之前已经停止更新了，据说只能运行在XP上，对于Mac党来说简直不能忍受，所以第一阶段是自己开发一个可以媲美Muse的吉他谱绘制工具。

中秋节三天在家花了一天使用Js绘制了简单的svg格式的和弦图和右手指法的六线谱的demo，就绘制了一个小节，格式模仿Muse2.7，可视化效果还是非常不错的。

乐谱元素还是非常多的，首先需要设计一个能够描述大部分吉他谱元素的文法规则，然后写tokenizer和grammar parser，最后生成一个svg格式的谱子，还要搞好跟和弦，简谱，歌词的对应关系，逻辑还是非常复杂的，估计差不多需要投入一个月的时间来开发。

乐谱绘制软件开发完成后就是网站上线的事情了，域名，备案，服务器，后台软件，web前端展示，布局开发，都是技术的问题，网站正式上线估计会在12月份。

网站上线后就是运营宣传和谱子来源了，人工手动输入时间成本还是挺大的，初步估计每天晚上完成两个已有谱子的输入，后续会有专业人员以最及时的速度扒出当前最火热的歌曲的吉他谱。

当然为了防止吉他谱被爬虫爬走，需要一定的反爬虫机制，基本想法是通过客户端实时渲染图片，这样不但服务器的压力会很小，而且可以防止被人用爬虫爬走辛辛苦苦生成的谱子，付一定的费用可以下载图片或者pdf格式的高清谱子，否则只能在线看，当然如果不怕辛苦，截图也是可以的。

实时谱子渲染和专业的吉他扒带缺一不可。

这个中秋三天过的很快，3天假期2天雨，明天又要继续上班了。
